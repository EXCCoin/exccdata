package dbtypes

import (
	"encoding/hex"
	"strings"
	"testing"

	"github.com/EXCCoin/exccd/chaincfg/v3"
	"github.com/EXCCoin/exccd/wire"
	"github.com/davecgh/go-spew/spew"
)

func Test_processTransactions(t *testing.T) {
	blkHex := "06000000cc9ed44f774a0e3eaa30170994528465b4264569bbfd55450ff9feebc4e716119af6ac21a906bc6eb47696ff37feaac081ef69c8b14cc61c691841bbc0ba59628122474bc252cbed7c7afa69def9a3281bfe79183f19d885f1f4b967b932533601003ac869735fd405000200681400008f961e2018133024010000000752000029250000b705fd630000000018b168d2c7f41b7300000000000000000000000000000000000000000000000006000000136964e3ee04e0dec616fbfdd2d3e94f6be2de91558b670fbe1cc098b6f360e77c9e16ad87946fa2456743f33ade3fd147522ab7fabd30b31a46a8fbe65d04dc6812cb2d3daafc77c845d32bada9a861594eb07e397bfdf3b660ec38d7b9b469278f4af80401000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff02000000000000000000000e6a0c07520000f81f55ad473d5999f49fb3990000000000001976a91444539cf87e348ce266658f51ad86900ed031ace988ac000000000000000001e84da8990000000000000000ffffffff0900002f65786363642f01000000101b55d5851309c40d1117fb4d8ed1b28e37518514bcb16dbd974ffd5f6f7091770200000001ffffffff2e3b350ee328ac1e731c1fae7f7a7caa82b5618649b565ac7aa3e4a4044809650200000001ffffffff4cfd5afd71406d95d4dae8d0967716efc10e4a4863103b7784554dae297416561000000000ffffffff5745ec4e0309a5c69a3913bade16715cfd9a15b4e1d3e2e306d8be91026ba61c0200000001ffffffff98220ab551def83db73c7ec213e351258080c8f781f11e3da102ba8f48e84b210200000001ffffffff9854b6581d2a13ef54c5e1fc374ae703286a7ae994a79f3ad3de41edd49c65fa0200000001ffffffff988b06d3963c5a4f2fdfc2dbe179c831262842806f50b768e4c5396be76287f60200000001ffffffff98a4c6d67aac4ec526b2cbd30a7ab495fb60c9dd9646999a71fadb2a6966bd800100000000ffffffff98ba2bcbe3f9b8fb6fc12acb3ff5e22d12ccfa96ac69bda14c70aa463c72a0ca0200000001ffffffff98c80afd60e4550b7df60f84da13a9089121e044a97990928a13472097d13d0b0200000001ffffffff98ce336104fa783e9197499ab6883ce1f3f9c2b90cf752100a43ec47552123450200000001ffffffff98dcde0346f4b0147d877cf9c0a7542f72dd60b7e85401057228fe9a01720d200100000000ffffffff98e5574201181ece121ad9d95a0fd5a47d9eee38384ce110f58fc98928fb15480200000001ffffffff992d4a962a2986cf571f850bedf9e417fda50beaa75e4368c6e221d69d1c432d0200000001ffffffff9931df2dea528fe8425e6e818661c4f1daa3788f7bea11dd4b78beec123d80330200000001ffffffff99582683ea407228cfbf8aab6170a0035456d8a0d5daa6ef0db6013c8f70c5000200000001ffffffff11488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac488830240100000000001976a914beebd2a176c9529f69ad902a0fab546b3dc6037e88ac8008a3af0000000000001976a91420d0d8ad008f6356d124c16fbe0c9940cf4e910588ac0000000000000000101757db3601000000f6510000010000006a473044022060ea6ff218c2f045e2e27a72643f6410872e4f8c3d5a7391b80af9bb786956ea022046d63533ff565b23d7493d3b8bc043c0dd92c0b2f2fb35f6f67afc49d3fe29f20121027562fd08ffee3f381cdcddb75494ae3a08f3d0f4fe4aaa420daacba386ce4ec041a2f65d01000000f6510000000000006a4730440220749d45851f402f7540667351768cc3ea8759b992b0f4e6e96142f16a54443bd502200b3b2da6cb957f5554fd95d499d84e38093eb7dd4846ff57a3e61ae91e3cfb790121025d77fa9dfbe9bc41bff75d1fd77c0a46b6eafdcd162818e4c2c26bae06688a67b4233c0f0100000005520000010000006b483045022100fc73d8d036fd512ec0b661214e4230036d2f18e25db293196df441f23488d839022024524d3663b3cb00f12edddc72fd832110d80712b4a71e3d8f8e512c72a7f0d9012102224b4d8b934327ba78003fe3dbd2e66a4c4821c06f5dd326df3edbfc4161b7b400c25b3101000000f6510000040000006a4730440220242304a3ae921372fa71749d83238900da05fb2abe3aa9023d6bdf2d3af8fd8302204304698a2d768905b2612250ccdb1c932721c9fdb979b2154b8886510b5268490121037caef0f4e7cce2d9b3901cb61de9ee2f14f11f52bcdf7f4f07226ac182bdabb641a2f65d01000000e44f0000000000006b4830450221009905ecbc146a3be7f6b62e5ca62c98c0d2095c98918765b36dd431954f2a341d022035ed18b5218259bec8fc332b5b1cec27efb500fecae893b95179b0320ee0bbbd0121024ab568dd0c8f5f8c8fa43763abee58d78757658d6d515cae334bd40e201787dd1757db360100000067500000020000006b4830450221009b5704c770895a29c661e1acdcd179ce68e56bf47c9ddba633c987c83657d573022011c1b4c2cc77279864d1856b7ea22bf739e91bb07969701c10834fa2fe8613480121020be587e489715462c29a0855cb9d0cbb7e4fdad5f501537df4230e1a2e4f64a85f2db638010000001f510000010000006b4830450221009cbc50b98bfe80b1904fc4e5136188772eb1a07852da191d027729e73f153e2d02206a2cad11f7d96b2187f5ab97d975a27255fae18d2940f512d2f0041d4249bb52012102db1e975b9f5b016d1113920f704ccc8b2703a1258a431903666031f399c2cb4c18c3a89900000000cc500000000000006a473044022073c26b4195ec4a1be026b8e4fc46afde8eb7f35e2892bf05979fe838f4f64b160220385d9c53c2a18079a9ae05e331c349285c01283e1baddbb0e77ef79e4495262c012103ad8e5ce6cfcea16dc2ece64ca901f964f9cdb5261ab4c418ef17c48f51d6119341a2f65d0100000078510000020000006b483045022100fb2d3730f206b193910146ca72d034dfdeee28c6326241741ef1571f40cfb3ff0220714672a4b2639f3d2d1c18ceabc6c1ac448f9b29afd10c2739c0d774fdff2562012102b0d969d3af06f1ed1b9c1a5fb7def7de3fd53bd66baf4817ea6d7e77a1481d511757db360100000017510000020000006a4730440220651f41d147d9d4812ddc098471c8e2c500a3c017f367904302f152f20e63aa0a022070e1b940422a0357b5043bf541383560aaba9360801ccdbf846f1604b1ed828b01210325d5ab61ebb21cbde2f97d4dbed578a5ee362cd1cfcdc0dee69260550d2c0de141a2f65d0100000074500000010000006b483045022100ae30d0a92a8abde8d1ffb54cc7df2cb3caddbf1395286cf95169c69daf3b856202200910319c1e00befdd129ba60a1d60c25ca060dcf839352be73ab52f73f72010501210295fdd41c244ca01463f06c820a54c428bdd71b115af5e85aabd73ed4395d3d4d4838a9990000000052510000000000006b483045022100cd5ac80bb819c14afb514ea9d1210a59c90f918ed79c50be7bd98967bdb79ff102207a4340793ae34b6608dcf669e58ab42037e88c48adb487ec7866a759fa65d3b7012103ad8e5ce6cfcea16dc2ece64ca901f964f9cdb5261ab4c418ef17c48f51d6119341a2f65d0100000082500000020000006a4730440220329dc3ba7d5ab00b3180e2c394bc80b4261248d81603237b126fc6bf82cb5d9e02205ad081df7c9d6b711346c041a1ecfa892f18d65d423573385da39627a571f23101210317791f720870a9310ee03f184bf1ac6a67a247b9e4bb9538a1e17d4ec895869941a2f65d0100000068500000000000006a47304402206b72e5ad1b62f00285ccee86cfb0ef8ed9f54702cd1ec9efda9d39b6d91322f5022056c3654f9faa46300910f854cf8cf4c04a6a3218655b648877242cd695382f3d012103c6addba8d16350376dfa836aba4ea231e8eb27b77bff2cfea943bf1cde3453311757db36010000002f500000010000006b483045022100f13871afd2d3d8a1a357e5740a8b1bdbbcdb1570f10a3013a0d1596a0bf81f320220334dca3b7dc7f36d76328f05f21c19c7f4614cd9119089bb1be295beeef735e3012102e99e122fbf65d22174f50651cbd2190a6dcde5c0e07f07a9b419dac4756b44641757db360100000016510000020000006a4730440220013e3f98e304994e1b8355dcb2723696cce72be2cc698d262e3d33db01915c4e0220788d2ad48a560c8aa72e80686cc64562483c2c1a48f676d9f32e1eab85001eb901210276e707abadbc47077dd69968ce200d61266c0a97bbeee58da45e7ed4a648ab9f0100000010171c518f8f9569c312cc33aa7322aefe814dae04047782edbcbadd4cb95028cf0200000001ffffffff65e11020fdaf614ff61871f07a3a377b325ba49649301edf2b82ebde9af75bb80200000001ffffffff81b18721c50b5b8447ed1a4f2e62080c1f08d9be3e649d35c8ce34c65396ee8d0200000001ffffffff9969849d2ab8583e02c65f2598f0a40c357bf6a2d0e7ceba31c0d19a890c81e20200000001ffffffff998eb0619eddec6a14654b0aaa4a3912a417582301f4175c9c3802691740ab8b0200000001ffffffff99bc9aa07ca6d70bf00b465f3548a49f8aa9538d0339dca850253ce2642986220200000001ffffffff99dad50c42aca608f15e451bea950ae6a27a84ab0f7163bd2526aaa847b33b210200000001ffffffff99e4f306ee861d43ad8f1a6bbd14fbe94efe1842dd87cea107ebab99ade6ad800200000001ffffffff99e662be685aefe6a0a05c61b36508214171354be1b462c76745b913c333bd3c0200000001ffffffff9a024870224046bc5466a01bd7a05084ab9c2b8631d8815200c7da710d4861970200000001ffffffff9a211de9476e2656cd6de6a0881d79642ad9e5ddecda45e397f3bf0e863e66ce0200000001ffffffff9a3440a274969ec601b07a0ae6bfb3347f058983a10bb63e01ea6d2adcaf87b90200000001ffffffff9a35817f52239b0db622aff403c9f78ffc148f2ceeacd1f32c2a8c11ff5eb2390100000000ffffffff9a7549e7236166060742d7539329971cb369b4ba2b3a7a46fcfedaadc82fe9060100000000ffffffff9a97a490fed145e4d9f6346a86c11fc40538f858d7b40180490d167cb78fcc610100000000ffffffff9aaa325de5726bb6f7fded0fbe173bfc8ea46eb70685d35338ecbeb10230f1e50200000001ffffffff11488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac488830240100000000001976a9145ee5cd84820bce57fe10e602aae089ac7c9bb4f088ac260ff04e0000000000001976a914a5c0e6ac418363ca3c2cd92be05c30ff0aff8fe688ac0000000000000000101757db3601000000f7510000020000006b483045022100debf36a914698fb6da15495c8e64b40f63838cec588d28c46ffaf409b1473c88022012bb023205ddbc137c8685cced97d5eb83a84aafe24d895841bcab9fa5ce0c35012102a982dc2b7309fd1c20536f40501360afe4525637c683959dcfe88e21a8d333d341a2f65d01000000f7510000030000006b4830450221009d4a2c237f42716bc55db301a924c71f0a2a740d70a16b3e63c9233d425ed3a202201a2f010178b5b2797135b4c939370c44b2ad532e4c57d2f01fff0c758d2cfe64012103e305d6dec9192b9d7ca1cd7fbfbf862a434422104bd0e99c54e0a6737044cc0f41a2f65d01000000f7510000040000006a47304402206de0df858e1463435bb20b8debfe73768771f2c499e36cfebb4744e904e702260220729fb64eb65b8ba836b5bea98214b68286b14b754012e39ebb46ac25a3313190012103ea92ea0b217da640dbf86593aa091c2a730cfaa5e2f7ec33884e7e808c3dcfc641a2f65d010000005a510000040000006a4730440220413d7a7016e7ed447f397a0ef8855a927666ec4be0769584a3e2646088ce97dd022035ad04b525776581d8cac018163c42c26faefffccbf1e3753913514041c07d7b012102d547ac9e0ade97b6c84a035e7a062c15fbf0179a1bfde0c4c41ac84e057a60e741a2f65d01000000a0500000030000006b4830450221009f94ca1bc1c3f1abd4392fcfa3eebae647ef738392b55c5a36bc421f8ccb392e02202ba273559da2a1f72a970d294bf9411a386fadd7b587b0a7e4f3cbc381d9ba0b012103ddaee4514d2071f9eef6f1555695636b3601ed9cf74bb8812ce86866d1fa1e6341a2f65d01000000e74f0000000000006a47304402201394e8d2a2c6c34c4291433c52639ba20d851b84cf65575466f3aa2102adddd902204c5236b22c998a95d8040d1b77169d4ae494a33b838fc5f7fc3636b06743f6ae012102be58fb6ebf81ce0d7e478d4fd554c94f91b9bbd1f8a4e35840e95e0f2937383041a2f65d01000000a2500000020000006b4830450221008bf5623078cbfa89aeac920653195e575c1cdb84e07c59a1c004659412d3daf60220319709886f9ff4260abd0fffe0e3a84dfbb41b7023b183b71074ddb055aa22e9012102cc87c063862158478a9fe2935467f89452d93ff51fe835e9ad6523dbcffd97ac1757db360100000004500000030000006b483045022100dec8e81d4e0371790d5a5e1fab0b6811d4557112436bf88f7326a13e2414f970022027c8ec0b0990507973ad07859798b6307358657f0fe96d3272ba6e538ae7d7df0121021dd9bd7c9acf3532d5c5d44a142fdac3cc2206c6f7581e1104f154ea11d98044a79dda1d010000007d500000010000006b483045022100bea2ce5229445a8eed7759002e6ab77dc17652f56d3910af44915330238c9dbf0220689ffcfe018a984df3e14732e034cccfe19b42369e7c243bb389d8757b130b51012103e6723626a5a282424e7c1f0bdf36efa8fbe9e09ba3800d1a331692a98b2d6d321757db360100000055500000040000006b483045022100e934367ca11c2ba33eb32146f3998da1ff169297f03eb903824c20ba5dab2e3802206ceff00b122efe24dd90ad1ad40457bae22a0cfdf85df1d4b90d0cdad023493b012102256ba2a3a3ddea53c5133e437716edc8d2bc6b0a92265f4c3c551e2b4165230141a2f65d010000002d510000040000006a4730440220245ec40919e133b066e22f96b4ec0ffaae1cc3630840a3c16e4e2663652273df02203d0d3388102b82eb48dcb4d2d6f0aaa16cffa68e23b02ed1e296b6005741e91c0121029315972eb5ef62cb77ec3cb893ccf4e2c1e108d0baa1fd9f047282c3484e967207f7e356010000008e510000000000006a47304402205b9e0354409ca0b1e620cbf28d761e87de2cdf1d0137e7e73667213a1121e8e5022075651e6b7a62f9d62163ecd7dcac12c63a775438116dc8664d1401bcdb9c93f801210279b3a1a9af7702bb3572db5e99c3e9c9e39c38454df2180a907c24763a437357e84da8990000000035500000000000006b483045022100927895fe9c30df6279604bea982b1b79b2b4fa3f39ae5713e9c11667f500b99b02204d7e273aa341ce8926fa38fa6ef8a0941cf9b6f8d3f3b7ee743eaf68e501e2b5012103ad8e5ce6cfcea16dc2ece64ca901f964f9cdb5261ab4c418ef17c48f51d611932ce4b49900000000ec510000000000006a473044022036f72b1a99a0aff6d534de6513d8f118e1f80deb02bdf75ba2401b13c856ea5302202be042e4ce1a85f687edea8eb6a5ed614705974c02286aa175b9be2252a9e089012103ad8e5ce6cfcea16dc2ece64ca901f964f9cdb5261ab4c418ef17c48f51d6119318c3a899000000007c500000000000006a47304402200994b76bdb2cc141d7d792c4230a24020eb5f2e39d57026591685d166de5ade402207b4046e7a060aff8dfe81c1ede967a015742f2253c1693d84484ad0b06ccbe7f012103ad8e5ce6cfcea16dc2ece64ca901f964f9cdb5261ab4c418ef17c48f51d611932c97e81901000000a4510000010000006b4830450221008fcc63292a0a0022b3e768e0ae2dc011af70a7b9aac38926c79f4e71c82d42bc022068d8e6361ca625018feaab12e1b4120d09b4066ed1d3f0ffab02b29e09b2536201210357e1deca41ec138361f6db47da9591ed027534c5e4258b36735540927d319cec010000000186d636f0480dbb2e174c916582146ac73880fee814a593cc1116f10283f81b9a0200000001ffffffff02488830240100000000001976a914637510ef8d5124b87d1c453d23d8bbb5a581a33d88ace4d62a0d0000000000001976a9141472e3fedb5abbafadbb072a7ba3b36fcc0f55a388ac00000000000000000100c25b3101000000f6510000020000006b4830450221009c64bc69bca908684df3b4c097911515d6a312d2c8fa976676ea5cc789b9232702206cca24d337e088b58c0838329849fe7984a74ae06674c0b351a9bb488769afe401210360a63701078d6a3f9a0465373b5adcc77ef9e7adf11784723001e6ec06e1d4fc0701000000020000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffffd1314f995f1521c5bf4f07eadd2a489b9c40a2670414259fa4b0d49993d077f00000000001ffffffff0300000000000000000000266a24cc9ed44f774a0e3eaa30170994528465b4264569bbfd55450ff9feebc4e716110652000000000000000000000000086a0601000600000000c25b310100000000001abb76a91458909e57b58a56dddeb204bdc51ccb30a223194688ac000000000000000002e8ae2b0d0000000000000000ffffffff0200001813302401000000d2510000070000006a47304402206b3c6a29ac75a8e22deb43c8f071332d0554b603fa3d904268787f9edad2ee2d02202c0b0bc72d8c8c473fecfb73f9574985a7e747d1955a043cecf739f8f25a8fe4012103fdcaae65ba28b8638351cf8e471c7423f534a6783cd2926f5e63499b7b79031c01000000020000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff9292635773c29efb3f5ec494f7b2a79b16326ed9c58c5b7e8e1b0f68d3e4eceb0000000001ffffffff0300000000000000000000266a24cc9ed44f774a0e3eaa30170994528465b4264569bbfd55450ff9feebc4e716110652000000000000000000000000086a060100060000005f2db6380100000000001abb76a9147ea23c8831ba36287962782f206a59f4fb72398e88ac000000000000000002e8ae2b0d0000000000000000ffffffff020000777e8a2b01000000574c0000120000006a473044022031b1cb614183c4246f3daa7a879de894351bc330ee96702a70a55ca023053773022052141f895e21e0c1610ea8c86cf37e6d11e275b2229ad915399d8aba32c9b49c0121034824be058ceb0e24515e68e72c058b339f821a69b733358530ad2609950816a001000000020000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff9c0d158c3ebd96802bf04c40b87983278c84efe417ab74d6469af261f8e1f7e10000000001ffffffff0300000000000000000000266a24cc9ed44f774a0e3eaa30170994528465b4264569bbfd55450ff9feebc4e716110652000000000000000000000000086a060100060000001757db360100000000001abb76a9144bcc62e6e365a7c7f3919ee2760d833f8ad456bd88ac000000000000000002e8ae2b0d0000000000000000ffffffff0200002fa8af2901000000d74d0000180000006b483045022100b59ca98ccf7e7681988e668588fb91cb30f3cd133dfa7eaf6e8065afe28e329c02206f7f1b7a7a60a26f8170ca20cf80c0c1052bdaf77143d40a1f650e9024c3f40b012103f9d528f667418eef56b45066af4ac56d87bf3400719fe3de247b76e40e18c0a101000000020000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff8d5babd0ad77fa29402f1768abe7409cfd9b11e4be7cd655bef6ea9d7e5b3ce10000000001ffffffff0300000000000000000000266a24cc9ed44f774a0e3eaa30170994528465b4264569bbfd55450ff9feebc4e716110652000000000000000000000000086a06010006000000a79dda1d0100000000001abb76a91437231c6e3dbbf1a3931626c8b07318bf114264af88ac000000000000000002e8ae2b0d0000000000000000ffffffff020000bfeeae10010000007e480000080000006b483045022100edf6ce9e4f842e3a115458f15e1ebaad1c9a0bb1b06efd032375cfc7fd1ec1e502205f5f370248f95783e22a89ab97b955145d66a8dcdb35f5018b106615148d078301210266a3bef8396fd046dff39bb5f681d9031960bfb42ee4596b0ef6043a07c4f1d701000000020000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff6ef68cbeb269fd91a968e4f519d2ec2e9d87a2c12292ebe67902c1e16d00bad90000000001ffffffff0300000000000000000000266a24cc9ed44f774a0e3eaa30170994528465b4264569bbfd55450ff9feebc4e716110652000000000000000000000000086a0601000600000041a2f65d0100000000001abb76a9144b515cee16fcb98290908bfeb05e84c5d9fb021688ac000000000000000002e8ae2b0d0000000000000000ffffffff02000059f3ca5001000000554f0000180000006b48304502210082fad6531eb5e880000eaa8d853a0e871c2e330305097debf41a6c1e743932ec022009b775ccba3138b738e58dca8d4d529438a68cf533b9599bdb0545dc94ed70c301210325409a0e683f8bc9160d1310baa5440913ff066f0e00d4aec81effd93a9cf2d001000000014cfd5afd71406d95d4dae8d0967716efc10e4a4863103b7784554dae297416560000000000ffffffff03181330240100000000001aba76a91428a3e98e99b7b1654a4184db2649ffe5dc33844a88ac00000000000000000000206a1edefecc58aa043195740ea5adc03526eede6a083148883024010000000058000000000000000000001abd76a914000000000000000000000000000000000000000088ac000000001652000001488830240100000005520000010000006b483045022100ae4c982886905d29c213ae0a2d19d2e1b41c7906d866ed8e9046d1476b878d8f022022d7e1ea74e77c26ddfaa4c12e4eb8e7d79f6cb3228a346aa8f53dcbc57c6a0d012102fb020073f14694b2d9d1cb1301a3a30c376094bf1800de7de0a53bdf498ee81601000000014cfd5afd71406d95d4dae8d0967716efc10e4a4863103b7784554dae297416560e00000000ffffffff03181330240100000000001aba76a91428a3e98e99b7b1654a4184db2649ffe5dc33844a88ac00000000000000000000206a1e65c1bdba77e715c31efd65e13fdeddef602bacf748883024010000000058000000000000000000001abd76a914000000000000000000000000000000000000000088ac000000001652000001488830240100000005520000010000006b483045022100eed03cbab62505cbe9f40c3b5c324b0d52bca5f2a64db4fbd9308e963c1cbece02207111fefe194a438177f8d8d937b6109cf3d6c45a96400b972268f2d8216829a1012102fb020073f14694b2d9d1cb1301a3a30c376094bf1800de7de0a53bdf498ee816"
	var msgBlock wire.MsgBlock
	err := msgBlock.Deserialize(hex.NewDecoder(strings.NewReader(blkHex)))
	if err != nil {
		t.Fatalf("Failed to deserialize block: %v", err)
	}

	txs, vouts, vins := processTransactions(&msgBlock, wire.TxTreeStake, chaincfg.TestNet3Params(), true, true)
	tspendidx := 0
	spew.Dump("tx:", txs[tspendidx])
	spew.Dump("vout[0]:", vouts[tspendidx][0])
	spew.Dump("vins:", vins[tspendidx])
}
